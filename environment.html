<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2. Environment &mdash; CommonSE 0.1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/nrel.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="CommonSE 0.1.0 documentation" href="index.html" />
    <link rel="next" title="3. Utilities" href="utilities.html" />
    <link rel="prev" title="1. Coordinate System" href="csystem.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="utilities.html" title="3. Utilities"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="csystem.html" title="1. Coordinate System"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">CommonSE 0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="environment">
<h1>2. Environment<a class="headerlink" href="#environment" title="Permalink to this headline">¶</a></h1>
<p>Environment contains shared wind, wave, and soil models.</p>
<div class="section" id="wind">
<h2>2.1. Wind<a class="headerlink" href="#wind" title="Permalink to this headline">¶</a></h2>
<p>All wind models currently inherit from <a class="reference internal" href="#commonse.environment.WindBase" title="commonse.environment.WindBase"><tt class="xref py py-class docutils literal"><span class="pre">WindBase</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">WindBase</span><span class="p">(</span><span class="n">Component</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;base component for wind speed/direction&quot;&quot;&quot;</span>

    <span class="c"># TODO: if I put required=True here for Uref there is another bug</span>

    <span class="c"># variables</span>
    <span class="n">Uref</span> <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s">&#39;m/s&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;reference wind speed (usually at hub height)&#39;</span><span class="p">)</span>
    <span class="n">zref</span> <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s">&#39;m&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;corresponding reference height&#39;</span><span class="p">)</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s">&#39;m&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;heights where wind speed should be computed&#39;</span><span class="p">)</span>

    <span class="c"># parameters</span>
    <span class="n">z0</span> <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s">&#39;m&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;bottom of wind profile (height of ground/sea)&#39;</span><span class="p">)</span>

    <span class="c"># out</span>
    <span class="n">U</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;out&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s">&#39;m/s&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;magnitude of wind speed at each z location&#39;</span><span class="p">)</span>
    <span class="n">beta</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;out&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s">&#39;deg&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;corresponding wind angles relative to inertial coordinate system&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This module defines a wind speed profile at locations <cite>z</cite>, all wind speeds below <cite>z_0</cite> are 0.  The parameters <cite>Uref</cite> and <cite>zref</cite> allow for scaling of a profile shape.  Specific implementations of this base component include <a class="reference internal" href="#commonse.environment.PowerWind" title="commonse.environment.PowerWind"><tt class="xref py py-class docutils literal"><span class="pre">PowerWind</span></tt></a> and <a class="reference internal" href="#commonse.environment.LogWind" title="commonse.environment.LogWind"><tt class="xref py py-class docutils literal"><span class="pre">LogWind</span></tt></a>.  PowerWind assumes a power-law distribution of wind speeds of the form</p>
<div class="math">
\[U(z) = U_{ref} \left(\frac{z - z_0}{z_{ref} - z_0}\right)^\alpha\]</div>
<p>The logarithmic profile is of the form</p>
<div class="math">
\[U = U_{ref} \left[\frac{\log\left(\frac{z - z_0}{z_{roughness}}\right) }{\log\left(\frac{z_{ref} - z_0}{z_{roughness}}\right)}\right]\]</div>
<dl class="class">
<dt id="commonse.environment.WindBase">
<em class="property">class </em><tt class="descclassname">commonse.environment.</tt><tt class="descname">WindBase</tt><a class="reference internal" href="_modules/commonse/environment.html#WindBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#commonse.environment.WindBase" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="commonse.environment.PowerWind">
<em class="property">class </em><tt class="descclassname">commonse.environment.</tt><tt class="descname">PowerWind</tt><a class="reference internal" href="_modules/commonse/environment.html#PowerWind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#commonse.environment.PowerWind" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="commonse.environment.LogWind">
<em class="property">class </em><tt class="descclassname">commonse.environment.</tt><tt class="descname">LogWind</tt><a class="reference internal" href="_modules/commonse/environment.html#LogWind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#commonse.environment.LogWind" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="wave">
<h2>2.2. Wave<a class="headerlink" href="#wave" title="Permalink to this headline">¶</a></h2>
<p>All wind models currently inherit from <a class="reference internal" href="#commonse.environment.WaveBase" title="commonse.environment.WaveBase"><tt class="xref py py-class docutils literal"><span class="pre">WaveBase</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">WaveBase</span><span class="p">(</span><span class="n">Component</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;base component for wave speed/direction&quot;&quot;&quot;</span>

    <span class="c"># variables</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s">&#39;m&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;heights where wave speed should be computed&#39;</span><span class="p">)</span>

    <span class="c"># out</span>
    <span class="n">U</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;out&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s">&#39;m/s&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;magnitude of wave speed at each z location&#39;</span><span class="p">)</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;out&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s">&#39;m/s**2&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;magnitude of wave acceleration at each z location&#39;</span><span class="p">)</span>
    <span class="n">beta</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;out&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s">&#39;deg&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;corresponding wave angles relative to inertial coordinate system&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Hydrodynamic speed distributions are estimated using linear wave theory (<a class="reference internal" href="#commonse.environment.LinearWaves" title="commonse.environment.LinearWaves"><tt class="xref py py-class docutils literal"><span class="pre">LinearWaves</span></tt></a>). According to linear wave theory, the maximum horizontal velocity of a wave is given as</p>
<div class="math">
\[U_{current}  = \omega \frac{h}{2} \frac{\cosh(k(z+D))}{\sinh(kD)} \cos(\omega t)\]</div>
<p>and the corresponding maximum acceleration is</p>
<div class="math">
\[A_{current} = \omega U_{current}\]</div>
<dl class="class">
<dt id="commonse.environment.WaveBase">
<em class="property">class </em><tt class="descclassname">commonse.environment.</tt><tt class="descname">WaveBase</tt><a class="reference internal" href="_modules/commonse/environment.html#WaveBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#commonse.environment.WaveBase" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="commonse.environment.LinearWaves">
<em class="property">class </em><tt class="descclassname">commonse.environment.</tt><tt class="descname">LinearWaves</tt><a class="reference internal" href="_modules/commonse/environment.html#LinearWaves"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#commonse.environment.LinearWaves" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="soil">
<h2>2.3. Soil<a class="headerlink" href="#soil" title="Permalink to this headline">¶</a></h2>
<p>All wind models currently inherit from <a class="reference internal" href="#commonse.environment.SoilBase" title="commonse.environment.SoilBase"><tt class="xref py py-class docutils literal"><span class="pre">SoilBase</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">SoilBase</span><span class="p">(</span><span class="n">Component</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;base component for soil stiffness&quot;&quot;&quot;</span>

    <span class="c"># out</span>
    <span class="n">k</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;out&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s">&#39;N/m&#39;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;spring stiffness. rigid directions should use </span><span class="se">\</span>
<span class="s">        ``float(&#39;&#39;inf&#39;&#39;)``. order: (x, theta_x, y, theta_y, z, theta_z)&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The soil is assumed to not contribute any inertial or applied forces, but to only affect the stiffness of the foundation.  The user may specify directions which are considered rigid.  For the other directions, effective spring constants are estimated based on the soil properties (<a class="reference internal" href="#commonse.environment.TowerSoil" title="commonse.environment.TowerSoil"><tt class="xref py py-class docutils literal"><span class="pre">TowerSoil</span></tt></a>).  A simple textbook model is used in this implementation <a class="footnote-reference" href="#id2" id="id1">[1]</a>.   The model allows for computation of an effective spring constant for all six degrees of freedom, each computed as a function of the shear modulus and Poisson&#8217;s ratio of the soil.  For example:</p>
<div class="math">
\[k_z = \frac{4 G r}{1- \nu} \left( 1 + 0.6(1-\nu)\frac{h}{r}  \right)\]</div>
<p>where h is the depth of the foundation below the soil.</p>
<dl class="class">
<dt id="commonse.environment.SoilBase">
<em class="property">class </em><tt class="descclassname">commonse.environment.</tt><tt class="descname">SoilBase</tt><a class="reference internal" href="_modules/commonse/environment.html#SoilBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#commonse.environment.SoilBase" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="commonse.environment.TowerSoil">
<em class="property">class </em><tt class="descclassname">commonse.environment.</tt><tt class="descname">TowerSoil</tt><a class="reference internal" href="_modules/commonse/environment.html#TowerSoil"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#commonse.environment.TowerSoil" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p><span class="bib">Bibliography</span></p>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Suresh C Arya, Michael O’Neil, and George Pincus. Design of Structures and Foundations for Vibrating Machines. BPR cumulative. Gulf Publishing Co, June 1979.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">2. Environment</a><ul>
<li><a class="reference internal" href="#wind">2.1. Wind</a></li>
<li><a class="reference internal" href="#wave">2.2. Wave</a></li>
<li><a class="reference internal" href="#soil">2.3. Soil</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="csystem.html"
                        title="previous chapter">1. Coordinate System</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="utilities.html"
                        title="next chapter">3. Utilities</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/environment.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="utilities.html" title="3. Utilities"
             >next</a> |</li>
        <li class="right" >
          <a href="csystem.html" title="1. Coordinate System"
             >previous</a> |</li>
        <li><a href="index.html">CommonSE 0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, NREL.
      Last updated on Jun 27, 2014.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>